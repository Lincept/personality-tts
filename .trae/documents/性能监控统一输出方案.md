# 性能监控统一输出方案

## 目标
将所有时间统计集成到统一的图表输出中，移除 logger 记录方式。

## 修改内容

### 1. 修改 `src/memory/memory_chat.py`
- 移除所有 `logger.info()` 时间记录
- 修改 `_analyze_intent()` 方法，返回分析耗时
- 修改 `_generate_response_stream()` 方法，返回 LLM 生成耗时
- 修改 `chat_stream()` 方法，返回所有时间统计（分析、存储、检索、生成）

### 2. 修改 `src/main.py`
- 修改 `_process_and_speak()` 方法，接收 memory_chat 返回的时间统计
- 将时间统计传递给 timer.stats
- 修改 `chat_and_speak_realtime()` 和 `chat_and_speak_realtime_volcengine()` 方法

### 3. 修改 `src/realtime_pipeline.py`
- 确保所有时间统计都记录到 timer.stats
- 添加记忆相关的时间统计（分析、存储、检索）

### 4. 修改 `src/timing_utils.py`
- 优化 `print_summary()` 输出格式
- 添加记忆相关的时间统计显示
- 统一所有时间统计的输出格式

## 预期效果
所有时间统计都通过统一的图表输出，不再使用 logger 记录时间。