# 角色配置说明

这个目录包含所有可用的语音助手角色配置。

## 现有角色

1. **学姐 (xuejie)** - 温柔、体贴、有点小傲娇
2. **幽默助手 (funny)** - 风趣、搞笑、机智
3. **友好助手 (friendly)** - 友好、专业、简洁
4. **专业助手 (professional)** - 严谨、专业、高效
5. **陪伴助手 (companion)** - 温暖、关心、耐心

## 如何添加新角色

### 1. 创建角色文件

在 `roles/` 目录下创建一个新的 Python 文件，例如 `my_role.py`：

```python
"""
我的角色配置
角色描述
"""

ROLE_CONFIG = {
    'id': 'my_role',              # 角色 ID（唯一标识）
    'name': '我的角色',            # 角色名称
    'personality': '性格特点',     # 性格描述
    'style': '对话风格',           # 风格描述
    'description': '角色说明',     # 详细说明

    # 自定义 prompt（可选）
    'custom_prompt': """
你是一个 XXX 角色。

性格特点：
- 特点1
- 特点2

说话风格：
- "示例1"
- "示例2"
"""
}
```

### 2. 配置说明

#### 必填字段

- `id`: 角色的唯一标识符（用于程序内部识别）
- `name`: 角色的显示名称
- `personality`: 性格特点（简短描述）
- `style`: 对话风格（简短描述）
- `description`: 角色的详细说明

#### 可选字段

- `custom_prompt`: 自定义的 prompt 文本
  - 如果不提供，将使用默认的 prompt 模板
  - 如果提供，会在你的 prompt 后面自动添加格式控制规则

### 3. 示例：学姐角色

```python
"""
学姐角色配置
温柔、体贴、有点小傲娇的学姐
"""

ROLE_CONFIG = {
    'id': 'xuejie',
    'name': '学姐',
    'personality': '温柔、体贴、有点小傲娇',
    'style': '亲切关怀',
    'description': '像学姐一样温柔体贴，偶尔会有点小傲娇',

    'custom_prompt': """
你是一位温柔体贴的学姐，对学弟学妹很关心。

性格特点：
- 温柔体贴，会主动关心对方
- 偶尔会有点小傲娇，但都是善意的
- 说话带点亲昵感，会用"呐"、"呢"等语气词
- 喜欢鼓励和夸奖对方
- 会用"学弟/学妹"来称呼对方

说话风格：
- "学弟，今天过得怎么样呀？"
- "哎呀，这个我教过你的呢~"
- "真棒！学姐就知道你可以的！"
- "别担心啦，有学姐在呢~"
- "真是的，下次要记得哦~"
"""
}
```

## 使用角色

### 启动时选择

运行程序时会自动显示所有可用角色供选择：

```bash
python src/main.py
```

输出示例：
```
正在加载角色...
✓ 加载角色: 学姐 (xuejie)
✓ 加载角色: 幽默助手 (funny)
...

可用角色:
============================================================
1. 学姐 (xuejie)
   特点: 温柔、体贴、有点小傲娇
   风格: 亲切关怀
   说明: 像学姐一样温柔体贴，偶尔会有点小傲娇

2. 幽默助手 (funny)
   ...

请选择角色 (1-5) 或直接回车使用第一个:
```

### 在对话中切换

在交互模式中，可以使用 `/role` 命令切换角色（仅限内置角色）：

```
/role friendly
```

## 注意事项

1. **文件命名**：文件名应该是有意义的英文，例如 `xuejie.py`、`funny.py`
2. **ID 唯一性**：确保 `id` 字段在所有角色中是唯一的
3. **Prompt 长度**：自定义 prompt 不要太长，保持简洁
4. **语音适配**：记住这是语音助手，prompt 要适合语音表达
5. **格式控制**：系统会自动添加格式控制规则（禁止 Markdown、列表等）

## 高级技巧

### 1. 使用默认 Prompt

如果不需要特殊的说话风格，可以不提供 `custom_prompt`：

```python
ROLE_CONFIG = {
    'id': 'simple',
    'name': '简单助手',
    'personality': '简单、直接',
    'style': '简洁对话',
    'description': '简单直接的助手',
    'custom_prompt': None  # 使用默认 prompt
}
```

### 2. 角色个性化

在 `custom_prompt` 中可以定义：
- 称呼方式（如"学弟"、"主人"、"朋友"）
- 语气词（如"呢"、"哦"、"啦"）
- 特殊表达习惯
- 情感倾向

### 3. 测试角色

创建角色后，可以单独测试：

```bash
python src/role_loader.py
```

这会显示所有角色并让你选择一个。

## 常见问题

### Q: 为什么我的角色没有加载？

A: 检查：
1. 文件是否在 `roles/` 目录下
2. 文件名是否以 `.py` 结尾
3. 文件中是否有 `ROLE_CONFIG` 变量
4. 配置是否有语法错误

### Q: 可以有多个角色使用相同的 prompt 吗？

A: 可以，但建议每个角色有独特的 prompt 以体现个性。

### Q: 如何删除角色？

A: 直接删除对应的 `.py` 文件即可。

### Q: 角色的加载顺序是什么？

A: 按文件名字母顺序加载。

## 贡献角色

如果你创建了有趣的角色，欢迎分享！
